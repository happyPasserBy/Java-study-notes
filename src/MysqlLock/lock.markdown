# Mysql与锁
## 1 表锁与行锁
### 1.1 共享锁与排他锁
* 共享锁(读锁/Shared Locks/s锁): 多个可以同时读取同一数据，但不可边读边改
* 排它锁(写锁/Exclusive Locks/x锁): 只能单个线程操作数据阻塞其它线程
* 意向共享锁(Intention Shared Lock/is锁): 当准备给某条数据加s锁时，需要先在表级添加一个is锁
* 意向独占所(Intention Exclusive Lock/ix锁): 当准备给某跳记录加x锁时，先在表级添加一个ix锁
### 1.2 表锁
> 对整个表进行加锁
#### 1.2.1 表读锁与表写锁
> mysql中写锁是优先级大于读锁
* 读读: 当前用户在读数据，其他的用户也在读数据，不会加锁
* 读写: 当前用户在读数据，其他的用户不能修改当前用户读的数据，会加锁并阻塞
* 写写: 当前用户在修改数据，其他的用户不能修改当前用户正在修改的数据，会加锁并阻塞
### 1.3 行锁
> 比表锁的控制粒度更细，对表中的行数据加锁
## 2. MyISAM
> MyISAM默认使用的时表级锁，不支持行级锁
## 3. InnoDB
> 默认用的时行级锁，也支持表级锁 
* 在查询时未用到索引则会为整张表加锁